(this["webpackJsonpdev-squad-frontend"]=this["webpackJsonpdev-squad-frontend"]||[]).push([[0],{23:function(e,t,a){e.exports=a(34)},33:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(20),c=a.n(l),o=a(4),s=a(6),i=function(){return r.a.createElement("div",{className:"jumbotron"},r.a.createElement("h1",{className:"neon"}," Talk is cheap, Show me the code . "))},m=function(){return"undefined"!=typeof window&&(!!localStorage.getItem("jwt")&&JSON.parse(localStorage.getItem("jwt")))},u=function(e,t){return e.location.pathname===t?{color:"#008B8B"}:{color:"#ffffff"}},d=Object(s.g)((function(e){var t=e.history;return r.a.createElement("div",null,r.a.createElement("div",{className:"menu"},r.a.createElement("a",{href:""},"        ",r.a.createElement(o.b,{style:u(t,"/"),to:"/"}," Home  "),"  "),!m()&&r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{href:""},"        ",r.a.createElement(o.b,{style:u(t,"/signup"),to:"/signup"}," Join  ")," "),r.a.createElement("a",{href:""},"        ",r.a.createElement(o.b,{style:u(t,"/signin"),to:"/signin"}," Members "),"   ")),m()&&r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{href:"",style:u(t,"/signup"),onClick:function(){return e=function(){return t.push("/")},"undefined"!==typeof window&&localStorage.removeItem("jwt"),e(),fetch("".concat("https://dev-squad-elite.herokuapp.com/api","/signout"),{method:"GET"}).then((function(e){return console.log("signout",e),e.json()})).catch((function(e){return console.log(e)}));var e}},"  Exit   "),r.a.createElement("a",{href:""},r.a.createElement(o.b,{to:"/user/".concat(m().user._id),style:u(t,"/user/".concat(m().user._id))},"".concat(m().user.name)))),r.a.createElement("div",{className:"marca"}))," ")})),p=a(14),h=a(8),f=a(9),E=a(11),g=a(10),v=a(12),b=function(e){function t(){var e;return Object(h.a)(this,t),(e=Object(E.a)(this,Object(g.a)(t).call(this))).handleChange=function(t){return function(a){e.setState({error:""}),e.setState(Object(p.a)({},t,a.target.value))}},e.clickSubmit=function(t){t.preventDefault();var a=e.state;(function(e){return fetch("".concat("https://dev-squad-elite.herokuapp.com/api","/signup"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})({name:a.name,email:a.email,password:a.password}).then((function(t){t.error?e.setState({error:t.error}):e.setState({error:"",name:"",email:"",password:"",open:!0})}))},e.signupForm=function(t,a,n){return r.a.createElement("form",null,r.a.createElement("div",{className:"signup__container"},r.a.createElement("div",{className:"container__child signup__thumbnail"},r.a.createElement("div",{className:"thumbnail__logo"}),r.a.createElement("div",{className:"thumbnail__content text-center"},r.a.createElement("h2",{className:"heading--secondary"},"Are you ready to join the elite?")),r.a.createElement("div",{className:"signup__overlay"})),r.a.createElement("div",{className:"container__child signup__form"},r.a.createElement("form",{action:"#"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"username"},"Username"),r.a.createElement("input",{className:"form-control",onChange:e.handleChange("name"),type:"text",name:"username",id:"username",placeholder:"iron.hacker",r:!0,value:t,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"email"},"Email"),r.a.createElement("input",{className:"form-control",onChange:e.handleChange("email"),type:"email",name:"email",id:"email",placeholder:"dev.squad@gmail.com",required:!0,value:a})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{classname:"password"},"Password"),r.a.createElement("input",{className:"form-control",onChange:e.handleChange("password"),type:"password",name:"password",id:"password",placeholder:"********",required:!0,value:e.state.password})),r.a.createElement("div",{className:"form-group"}),r.a.createElement("div",{className:"m-t-lg"},r.a.createElement("ul",{className:"list-inline"},r.a.createElement("li",null,r.a.createElement("input",{className:"btn btn--form",onClick:e.clickSubmit,type:"submit",value:"Register"}))))))))},e.state={name:"",email:"",password:"",error:"",open:!1},e}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.state,t=e.name,a=e.email,n=e.password,l=e.error,c=e.open;return r.a.createElement("div",{className:"container"},r.a.createElement("h2",{className:"mt-5 mb-5"},"Signup"),r.a.createElement("div",{className:"alert alert-danger",style:{display:l?"":"none"}},l),r.a.createElement("div",{className:"alert alert-info",style:{display:c?"":"none"}},"New account is successfully created. Please Sign In."),this.signupForm(t,a,n))}}]),t}(n.Component),N=function(e){function t(){var e;return Object(h.a)(this,t),(e=Object(E.a)(this,Object(g.a)(t).call(this))).handleChange=function(t){return function(a){e.setState({error:""}),e.setState(Object(p.a)({},t,a.target.value))}},e.clickSubmit=function(t){t.preventDefault();var a=e.state,n={email:a.email,password:a.password};console.log(n),function(e){return fetch("".concat("https://dev-squad-elite.herokuapp.com/api","/signin"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(n).then((function(t){var a,n;t.error?e.setState({error:t.error}):(a=t,n=function(){e.setState({redirectToReferer:!0})},"undefined"!==typeof window&&(localStorage.setItem("jwt",JSON.stringify(a)),n()))}))},e.signinForm=function(t,a){return r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"email"},"Email"),r.a.createElement("input",{className:"form-control",onChange:e.handleChange("email"),type:"email",name:"email",id:"email",placeholder:"dev.squad@gmail.com",required:!0,value:t})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{classname:"password"},"Password"),r.a.createElement("input",{className:"form-control",onChange:e.handleChange("password"),type:"password",name:"password",id:"password",placeholder:"********",required:!0,value:e.state.password})),r.a.createElement("div",{className:"form-group"}),r.a.createElement("div",{className:"m-t-lg"},r.a.createElement("ul",{className:"list-inline"},r.a.createElement("li",null,r.a.createElement("input",{className:"btn btn--form",onClick:e.clickSubmit,type:"submit",value:"Log in"})))))},e.state={email:"",password:"",error:"",redirectToReferer:!1},e}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.error;return e.redirectToReferer?r.a.createElement(s.a,{to:"/"}):r.a.createElement("div",{className:"container"},r.a.createElement("h2",{className:"mt-5 mb-5"},"Signin"),r.a.createElement("div",{className:"alert alert-danger",style:{display:n?"":"none"}},n),this.signinForm(t,a))}}]),t}(n.Component),y=function(e){function t(){var e;return Object(h.a)(this,t),(e=Object(E.a)(this,Object(g.a)(t).call(this))).init=function(t){(function(e,t){return fetch("".concat("https://dev-squad-elite.herokuapp.com/api","/user/").concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(t,m().token).then((function(t){t.error?e.setState({redirectToSignin:!0}):e.setState({user:t})}))},e.state={user:"",redirectToSignin:!1},e}return Object(v.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;this.init(e)}},{key:"render",value:function(){var e=this.state,t=e.redirectToSignin,a=e.user;return t?r.a.createElement(s.a,{to:"/signin"}):r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("h2",{className:"mt-5 mb-5"},"Profile"),r.a.createElement("p",null,"Hello ",m().user.name),r.a.createElement("p",null,"Email: ",m().user.email),r.a.createElement("p",null,"Joined ".concat(new Date(a.created).toDateString()))),r.a.createElement("div",{className:"col-md-6"},m().user&&m().user._id==a._id&&r.a.createElement("div",{className:"d-inline-block mt-5"},r.a.createElement(o.b,{className:"btn btn-raised btn-success mr-5",to:"/user/edit/".concat(a._id)},"Edit Profile"),r.a.createElement("button",{className:"btn btn-raised btn-danger"},"Delete Profile")))))}}]),t}(n.Component),w=function(){return r.a.createElement("div",null,r.a.createElement(d,null),r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/",component:i}),r.a.createElement(s.b,{exact:!0,path:"/signup",component:b}),r.a.createElement(s.b,{exact:!0,path:"/signin",component:N}),r.a.createElement(s.b,{exact:!0,path:"/user/:userId",component:y})))},j=(a(33),function(){return r.a.createElement(o.a,null,r.a.createElement(w,null))});c.a.render(r.a.createElement(j,null),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.b9089780.chunk.js.map